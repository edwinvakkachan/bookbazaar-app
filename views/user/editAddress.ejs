<%- include("../partials/user/header.ejs") %>

<div class="container my-5">
  <div class="row gx-4">
    <!-- LEFT: sidebar -->
    <div class="col-12 col-md-3">
      <%- include("../partials/user/userSidebar.ejs") %>
    </div>

    <!-- RIGHT: main content -->
    <div class="col-12 col-md-9">
      <div class="card p-4">
        <h4 class="mb-3">Edit Address</h4>

        <form id="editAddressForm" action="/address/edit/<%= address._id %>" method="POST" novalidate>
          <div class="row g-3">
            <div class="col-12">
              <label class="form-label">Name</label>
              <input name="name" type="text" class="form-control" value="<%= address.name %>" >
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Phone</label>
              <input name="phone" type="tel" class="form-control" value="<%= address.phone %>">
            </div>

            <div class="col-12">
              <label class="form-label">Address</label>
              <textarea name="line1" rows="3" class="form-control" ><%= address.line1 %></textarea>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">District / Town</label>
              <input name="city" type="text" class="form-control" value="<%= address.city %>">
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">State</label>
              <input name="state" type="text" class="form-control" value="<%= address.state %>">
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Landmark</label>
              <input name="line2" type="text" class="form-control" value="<%= address.line2 %>">
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Pin Code</label>
              <input name="postalCode" type="text" class="form-control" value="<%= address.postalCode %>">
            </div>

            <div class="col-12">
              <label class="form-label d-block">Address Type</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="label" id="addrHome" value="Home" <%= address.label==='Home' ? 'checked' : '' %>>
                <label class="form-check-label" for="addrHome">Home</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="label" id="addrWork" value="Work" <%= address.label==='Work' ? 'checked' : '' %>>
                <label class="form-check-label" for="addrWork">Work</label>
              </div>
            </div>

            <div class="col-12">
              <input type="hidden" name="isPrimary" value="false">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="isPrimary" id="isPrimary" value="true" <%= address.isPrimary ? 'checked' : '' %>>
                <label class="form-check-label" for="isPrimary">Set as primary address</label>
              </div>
            </div>

            <div class="col-12 d-flex justify-content-end">
              <button type="submit" class="btn btn-dark">Save changes</button>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>

<%- include("../partials/user/footer.ejs") %>


<style>
  .card { border-radius: 10px; }
  .form-control { background: #fff; }
  .form-label { font-weight: 600; color: #333; }
  @media (max-width: 767.98px) {
    .card { padding: 1rem; }
  }
</style>
